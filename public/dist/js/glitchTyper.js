class GlitchTyper{constructor(t,e){this.stringToType=t,this.taretEle=e,this.running=!1,this.idTracker=[]}async init(){this.originalText=this.stringToType.split(""),this.running=!0;try{for(let t in this.originalText)await this.autoType(this.originalText[t]);this.updateText(),this.resetText()}catch{console.log("Hero Typing Stopped")}}autoType(t){return new Promise((e,i)=>{let r=setTimeout(function(){if(clearInterval(r),!this.checkTargetExists())return new Error("Target not found, stopping.");document.getElementById(this.taretEle).innerText+=t,e(!0)}.bind(this),Math.floor(400*Math.random()))})}updateText(){let t=setInterval(function(){if(this.randomChoice()){if(!this.checkTargetExists())return new Error("Target not found, stopping.");{let t=document.getElementById(this.taretEle).innerText.split(""),e=Math.floor(Math.random()*t.length)-1,i=String.fromCharCode(Math.floor(93*Math.random())+33);t[e]=i;let r=t.join("").trim();this.setText(r)}}this.running||clearInterval(t)}.bind(this),200);this.trackThisId("interval",t)}setText(t){this.running&&this.checkTargetExists()&&(document.getElementById(this.taretEle).innerText=t)}resetText(){if(!this.checkTargetExists())return new Error("Target not found, stopping.");{let t=document.getElementById(this.taretEle).innerText.split(""),e=[],i=setInterval(()=>{for(let i=0;i<t.length;i++)this.randomChoice()?e[i]=this.originalText[i]:e[i]=t[i];this.setText(e.join("")),this.running||clearInterval(i)},400);this.trackThisId("interval",i)}}randomChoice(){return Math.floor(40*Math.random())>=30}trackThisId(t,e){this.idTracker.push({type:t,id:e})}checkTargetExists(){return!!document.getElementById(this.taretEle)||(this.running=!1,!1)}}