class GlitchTyper{constructor(t,e,i){this.stringToType=t,this.taretEle=e,this.glitch=i,this.running=!1,this.idTracker=[],this.newText=[]}async init(){this.originalText=this.stringToType.split(""),this.running=!0;try{for(let t in this.originalText)await this.autoType(this.originalText[t]);this.glitch&&(this.updateText(),this.resetText())}catch{console.log("Hero Typing Stopped")}}autoType(t){return new Promise((e,i)=>{let n=setTimeout(function(){if(clearInterval(n),!this.checkTargetExists())return new Error("Target not found, stopping.");this.newText.push(t),this.setText(this.newText.join("")),e(!0)}.bind(this),Math.floor(400*Math.random()))})}updateText(){let t=setInterval(function(){if(this.randomChoice()){if(!this.checkTargetExists())return new Error("Target not found, stopping.");{let t=document.getElementById(this.taretEle).innerText.split(""),e=Math.floor(Math.random()*t.length)-1,i=String.fromCharCode(Math.floor(93*Math.random())+33);t[e]=i,this.newText=t,this.setText(this.newText)}}this.running||clearInterval(t)}.bind(this),200);this.trackThisId("interval",t)}setText(t){Array.isArray(t)&&(t=t.join("")),this.running&&this.checkTargetExists()&&(document.getElementById(this.taretEle).innerText=t)}resetText(){if(!this.checkTargetExists())return new Error("Target not found, stopping.");{let t=document.getElementById(this.taretEle).innerText.split(""),e=setInterval(function(){for(let e=0;e<t.length;e++)this.randomChoice()?this.setNewText(e,this.originalText[e]):this.setNewText(e,t[e]);this.setText(this.newText),this.running||clearInterval(e)}.bind(this),400);this.trackThisId("interval",e)}}setNewText(t,e){this.newText[t]=e}randomChoice(){return Math.floor(40*Math.random())>=30}trackThisId(t,e){this.idTracker.push({type:t,id:e})}checkTargetExists(){return!!document.getElementById(this.taretEle)||(this.running=!1,!1)}}